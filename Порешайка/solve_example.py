from tkinter import *
from example_generator import Example


# —Ñ—É–Ω–∫—Ü–∏—è –æ—á–∏—â–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è
def clear():
    entry_2.delete(0, END)     # —É–¥–∞–ª—è–µ–º —Ç–µ–∫—Å—Ç –∏–∑ –ø–æ–ª—è –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤
    entry_3.delete(0, END)     # —É–¥–∞–ª—è–µ–º —Ç–µ–∫—Å—Ç –∏–∑ –ø–æ–ª—è –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
    entry_4.delete(0, END)     # —É–¥–∞–ª—è–µ–º —Ç–µ–∫—Å—Ç –∏–∑ –ø–æ–ª—è –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–ª–µ –¥–ª—è —Å–º–∞–π–ª–∏–∫–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    entry_5 = Entry(font=("Arial Bold", 37), width=2)
    entry_5.grid(row=8, column=2)


# —Ñ—É–Ω–∫—Ü–∏—è –≤—Å—Ç–∞–≤–∫–∏ –≤ –ø–æ–ª–µ –ø—Ä–∏–º–µ—Ä–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è
def get_test():
    clear()
    num = int(entry_1.get())   # —Å—á–∏—Ç—ã–≤–∞–µ–º —Å –æ–∫–Ω–∞ —á–∏—Å–ª–æ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
    obj = Example(num)         # —Å–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ Example
    entry_2.insert(0, obj.get_example())   # –≤—Å—Ç–∞–≤–ª—è–µ–º –ø—Ä–∏–º–µ—Ä –≤ –ø–æ–ª–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤
    entry_3.focus()            # –ø–µ—Ä–µ–≤–æ–¥–∏–º –∫—É—Ä—Å–æ—Ä –≤ –ø–æ–ª–µ –¥–ª—è –æ—Ç–≤–µ—Ç–∞


# —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–≤–µ–¥–µ–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –ø–æ–¥—Å—á–µ—Ç–∞ —Ä–µ—à–µ–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
def check_answer():
    global cnt_bad, cnt_good

    # —Å—á–∏—Ç—ã–≤–∞–µ–º –∏–∑ –ø–æ–ª—è –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–∞–º –ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª—è–µ–º –∑–Ω–∞–∫ "=" –∏ –ø—Ä–æ–±–µ–ª
    test = entry_2.get().split(' =')[0]   # –Ω–∞–ø—Ä–∏–º–µ—Ä: 12 - 10 + 6
    result_to_test = eval(test)           # —Ä–µ—à–∞–µ–º —Å—á–∏—Ç–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

    answer = int(entry_3.get())           # —Å—á–∏—Ç—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –∏–∑ –ø–æ–ª—è –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤

    # —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç —Å —Ä–µ—à–µ–Ω–∏–µ–º, –≤—ã–≤–æ–¥–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å–º–∞–π–ª–∏–∫, –æ–∫—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–ª—è
    if answer == result_to_test:
        entry_4.insert(0, '–ü—Ä–∞–≤–∏–ª—å–Ω–æ!')
        entry_5 = Entry(font=("Arial Bold", 37), width=2, background='aquamarine')  # —Ü–≤–µ—Ç - –∑–µ–ª–µ–Ω—ã–π
        entry_5.grid(row=8, column=2)
        entry_5.insert(0, '\U0001F31E')   # —Ä–∞–¥–æ—Å—Ç–Ω–æ–µ —Å–æ–ª–Ω—ã—à–∫–æ üåû
        cnt_good += 1                     # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –Ω–∞ 1
        entry_6.delete(0, END)            # —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∏–∑ –ø–æ–ª—è
        entry_6.insert(0, f'{cnt_good}')  # –≤—Å—Ç–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
    else:
        entry_4.insert(0, '–ù–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ')
        entry_5 = Entry(font=("Arial Bold", 37), width=2, background='IndianRed1')  # —Ü–≤–µ—Ç - –∫—Ä–∞—Å–Ω—ã–π
        entry_5.grid(row=8, column=2)
        entry_5.insert(0, '\U0001F61F')   # –≥—Ä—É—Å—Ç–Ω—ã–π —Å–º–∞–π–ª–∏–∫ üòü
        cnt_bad += 1                      # —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –Ω–∞ 1
        entry_7.delete(0, END)            # —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∏–∑ –ø–æ–ª—è
        entry_7.insert(0, f'{cnt_bad}')   # –≤—Å—Ç–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞


cnt_good = cnt_bad = 0   # —Å—á–µ—Ç—á–∏–∫–∏ —Ä–µ—à–µ–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

# —Å–æ–∑–¥–∞–Ω–∏–µ –æ–∫–Ω–∞
window = Tk()

# —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É –∏ –≤—ã—Å–æ—Ç—É –æ–∫–Ω–∞
width = 650
heigh = 420
# –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞ –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –æ–∫–Ω–æ
screenwidth = window.winfo_screenwidth()
screenheight = window.winfo_screenheight()
window.geometry('%dx%d+%d+%d'%(width, heigh, (screenwidth-width)/2, (screenheight-heigh)/2))
window.title("–ü—Ä–∏–º–µ—Ä—ã –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ")    # —Ç–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ (label) –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã –æ–∫–Ω–∞
for i in (2, 4, 6, 7, 9):
    lbl = Label(window, text="")
    lbl.grid(row=i, column=0)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º "–ß–∏—Å–ª–æ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:"
lbl_1 = Label(window, text="–ß–∏—Å–ª–æ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:", font=("Arial Bold", 12))
lbl_1.grid(row=0, column=1, sticky='e')

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —á–∏—Å–ª–∞-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
entry_1 = Entry(font=("Arial Bold", 20), width=2)
entry_1.grid(row=0, column=2, sticky='w')
entry_1.focus()   # –ø–µ—Ä–µ–≤–æ–¥–∏–º –∫—É—Ä—Å–æ—Ä –≤ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —á–∏—Å–ª–∞-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º "–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä:"
lbl_2 = Label(window, text="–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä:", font=("Arial Bold", 15))
lbl_2.grid(row=1, column=0)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ–ª–µ, –≤ –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä
entry_2 = Entry(font=("Arial Bold", 37), width=12, justify='right')
entry_2.grid(row=3, column=1, sticky='e')

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –æ—Ç–≤–µ—Ç–∞
entry_3 = Entry(font=("Arial Bold", 37), width=2)
entry_3.grid(row=3, column=2)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º, –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –∫ —Ñ—É–Ω–∫—Ü–∏–∏ get_test –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∂–º–∏ –∏ –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–∏–º–µ—Ä"
btn_1 = Button(window,
               text="–ù–∞–∂–º–∏ \n–∏ –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–∏–º–µ—Ä",  # —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ
               bg='linen',                        # —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–Ω–æ–ø–∫–∏
               activebackground='peach puff',     # —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –Ω–µ–µ
               font=("Arial Bold", 12),           # —Ç–∏–ø –∏ —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
               command=get_test)                  # –Ω–∞ –∫–∞–∫—É—é –∫–æ–º–∞–Ω–¥—É —Ä–µ–∞–≥–∏—Ä—É–µ—Ç
btn_1.grid(row=5, column=1)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º, –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –∫ —Ñ—É–Ω–∫—Ü–∏–∏ check_answer –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"
btn_2 = Button(window,
               text="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å",
               bg='linen',
               activebackground='peach puff',
               font=("Arial Bold", 15),
               command=check_answer)
btn_2.grid(row=5, column=2)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º "–†–µ–∑—É–ª—å—Ç–∞—Ç:"
lbl_8 = Label(window, text="–†–µ–∑—É–ª—å—Ç–∞—Ç:", font=("Arial Bold", 15))
lbl_8.grid(row=8, column=0)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ–ª–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç "–ü—Ä–∞–≤–∏–ª—å–Ω–æ/–ù–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ"
entry_4 = Entry(font=("Arial Bold", 30), width=12)
entry_4.grid(row=8, column=1)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ–ª–µ –¥–ª—è —Å–º–∞–π–ª–∏–∫–æ–≤
entry_5 = Entry(font=("Arial Bold", 37), width=2)
entry_5.grid(row=8, column=2)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–ø–∏—Å–µ–π –ø–æ–ª–µ–π "–ü—Ä–∞–≤–∏–ª—å–Ω–æ" –∏ "–ù–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ"
lbl_10 = Label(window, text="–ü—Ä–∞–≤–∏–ª—å–Ω–æ", font=("Arial Bold", 12))
lbl_10.grid(row=10, column=1, sticky='e')
lbl_11 = Label(window, text="–ù–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ", font=("Arial Bold", 12))
lbl_11.grid(row=10, column=2)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º "–†–µ—à–µ–Ω–æ –ø—Ä–∏–º–µ—Ä–æ–≤:"
lbl_12 = Label(window, text="–†–µ—à–µ–Ω–æ –ø—Ä–∏–º–µ—Ä–æ–≤:", font=("Arial Bold", 12))
lbl_12.grid(row=11, column=1)

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ–ª–µ –¥–ª—è —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
entry_6 = Entry(font=("Arial Bold", 20), width=2, justify='center')
entry_6.grid(row=11, column=1, sticky='e')
entry_6.insert(0, '0')     # –≤—Å—Ç–∞–≤–ª—è–µ–º –≤ –ø–æ–ª–µ —Å—á–µ—Ç—á–∏–∫–∞ —Ü–∏—Ñ—Ä—É 0

# —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏ —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ–ª–µ –¥–ª—è —Å—á–µ—Ç—á–∏–∫–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
entry_7 = Entry(font=("Arial Bold", 20), width=2, justify='center')
entry_7.grid(row=11, column=2)
entry_7.insert(0, '0')     # –≤—Å—Ç–∞–≤–ª—è–µ–º –≤ –ø–æ–ª–µ —Å—á–µ—Ç—á–∏–∫–∞ —Ü–∏—Ñ—Ä—É 0

# –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
window.mainloop()
